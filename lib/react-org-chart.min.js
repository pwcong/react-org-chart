!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("react")):"function"==typeof define&&define.amd?define(["d3","react"],e):"object"==typeof exports?exports.ReactOrgChart=e(require("d3"),require("react")):t.ReactOrgChart=e(t.d3,t.react)}(window,function(t,e){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&t.push(i)}else if("object"===o)for(var c in n)r.call(n,c)&&n[c]&&t.push(c)}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):void 0===(n=function(){return a}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){var n=r(4);"string"==typeof n&&(n=[[t.i,n,""]]);var a={insert:"head",singleton:!1};r(6)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(5)(!1)).push([t.i,".react-org-chart{font-size:0}\n",""])},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var a=(i=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(u," */")),o=n.sources.map(function(t){return"/*# sourceURL=".concat(n.sourceRoot).concat(t," */")});return[r].concat(o).concat([a]).join("\n")}var i,c,u;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(r,"}"):r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(n[o]=!0)}for(var i=0;i<t.length;i++){var c=t[i];null!=c[0]&&n[c[0]]||(r&&!c[2]?c[2]=r:r&&(c[2]="(".concat(c[2],") and (").concat(r,")")),e.push(c))}},e}},function(t,e,r){"use strict";var n,a={},o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}();function c(t,e){for(var r=[],n={},a=0;a<t.length;a++){var o=t[a],i=e.base?o[0]+e.base:o[0],c={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(c):r.push(n[i]={id:i,parts:[c]})}return r}function u(t,e){for(var r=0;r<t.length;r++){var n=t[r],o=a[n.id],i=0;if(o){for(o.refs++;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(v(n.parts[i],e))}else{for(var c=[];i<n.parts.length;i++)c.push(v(n.parts[i],e));a[n.id]={id:n.id,refs:1,parts:c}}}}function s(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var n=r.nc;n&&(t.attributes.nonce=n)}if(Object.keys(t.attributes).forEach(function(r){e.setAttribute(r,t.attributes[r])}),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,r,n){var a=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=f(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function p(t,e,r){var n=r.css,a=r.media,o=r.sourceMap;if(a&&t.setAttribute("media",a),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var h=null,y=0;function v(t,e){var r,n,a;if(e.singleton){var o=y++;r=h||(h=s(e)),n=d.bind(null,r,o,!1),a=d.bind(null,r,o,!0)}else r=s(e),n=p.bind(null,r,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var r=c(t,e);return u(r,e),function(t){for(var n=[],o=0;o<r.length;o++){var i=r[o],s=a[i.id];s&&(s.refs--,n.push(s))}t&&u(c(t,e),e);for(var l=0;l<n.length;l++){var f=n[l];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete a[f.id]}}}}},function(t,e,r){"use strict";r.r(e);var n=r(1),a=r.n(n),o=r(2),i=r.n(o),c={animationDuration:300,backgroundColor:"#ffffff",nodeSpacing:30,nodeHeight:90,nodeWidth:195,borderColor:"#4285f4",borderRadius:4,lineHeight:120,lineOffsetY:8,lineColor:"#dddddd",getTree:function(t){return Promise.resolve([])}},u="react-org-chart",s=u+"-node",l=u+"-name",f=u+"-leaders",d=u+"-members",p=u+"-link",h=r(0);function y(t,e){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function v(t,e,r){var n=this,a=e.tree,o=e.treeData,i=e.sourceNode,c=r.animationDuration,u=r.lineHeight,x=r.lineColor,g=r.lineOffsetY,b=r.nodeWidth,m=r.nodeHeight,w=r.backgroundColor,j=r.borderColor,k=r.borderRadius,C=r.getTree,O=a.nodes(o).reverse(),S=a.links(O);O.forEach(function(t){t.y=t.depth*u,t.x0=t.x,t.y0=t.y}),e.nodes=O,e.links=S;var T=i||o,M=t.selectAll("g."+s).data(O.filter(function(t){return t.id}),function(t){return t.id}),R=M.enter().insert("g").attr("class",s).attr("transform","translate("+T.x0+", "+T.y0+")");R.append("rect").attr("width",b).attr("height",m).attr("fill",w).attr("stroke",j).attr("rx",k).attr("ry",k);var E=function(t){return(t.leaders||[]).length>0};R.append("rect").attr("width",65).attr("height",m).attr("fill",function(t){return E(t)?j:"#ebedf0"}).attr("opacity",function(t){return E(t)?.1:.7}).attr("rx",k).attr("ry",k),R.append("image").attr("xlink:href",function(t){return E(t)?t.leaders[0].avatar:""}).attr("x",15).attr("y",15).attr("width",35).attr("height",35).attr("clip-path","url(#clip-avatar)"),R.append("text").attr("class",l).attr("x",32.5).attr("y",function(t){return E(t)?64:m/2}).attr("font-size",function(t){return E(t)?12:56}).attr("fill",function(t){return E(t)?j:"#c0c4cc"}).attr("text-anchor","middle").attr("dominant-baseline","middle").text(function(t){return(t.leaders||[]).length>0?t.leaders[0].name:"?"}),R.append("text").attr("class",l).attr("text-anchor","start").attr("x",75).attr("y",27).attr("font-size",12).attr("fill","#333333").text(function(t){return t.name}),R.append("text").attr("class",f).attr("text-anchor","start").attr("x",75).attr("y",72).attr("font-size",12).attr("fill","#999999").text(function(t){return"领导:"+(t.leaders||[]).length}),R.append("text").attr("class",d).attr("text-anchor","start").attr("x",130).attr("y",72).attr("font-size",12).attr("fill","#999999").text(function(t){return"员工:"+(t.members||[]).length}),M.transition().duration(c).attr("transform",function(t){return"translate("+t.x+", "+t.y+")"}),M.exit().transition().duration(c).attr("transform",function(t){return"translate("+T.x+", "+T.y+")"}).remove(),t.select("path."+p).data(S,function(t){return t.target.id});var N=t.selectAll("path."+p).data(S.filter(function(t){return t.source.id}),function(t){return t.target.id}),P=h.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("linear");N.enter().insert("path","g").attr("class",p).attr("fill","none").attr("stroke",x).attr("stroke-width",1).attr("d",function(t){return P([{x:t.source.x0+b/2,y:t.source.y0+m+2},{x:t.source.x0+b/2,y:t.source.y0+m+2},{x:t.source.x0+b/2,y:t.source.y0+m+2},{x:t.source.x0+b/2,y:t.source.y0+m+2}])}),N.transition().duration(c).attr("d",function(t){return P([{x:t.source.x+b/2,y:t.source.y+m},{x:t.source.x+b/2,y:t.target.y-g},{x:t.target.x+b/2,y:t.target.y-g},{x:t.target.x+b/2,y:t.target.y}])}),N.exit().transition().duration(c).attr("d",function(t){return P([{x:i.x+b/2,y:i.y+m+2},{x:i.x+b/2,y:i.y+m+2},{x:i.x+b/2,y:i.y+m+2},{x:i.x+b/2,y:i.y+m+2}])}),R.append("g").attr("transform","translate("+b/2+", "+(m+5+7)+")").on("click",function(a){return o=n,i=void 0,u=function(){var n;return y(this,function(o){switch(o.label){case 0:if(e.sourceNode=a,a.children||a._children)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,C(a)];case 2:return n=o.sent(),a.children=n,[3,4];case 3:return o.sent(),a.children=[],[3,4];case 4:return[3,6];case 5:a.children?function(t){t._children=t.children,t.children=void 0}(a):function(t){t.children=t._children}(a),o.label=6;case 6:return v(t,e,r),[2]}})},new((c=void 0)||(c=Promise))(function(t,e){function r(t){try{a(u.next(t))}catch(t){e(t)}}function n(t){try{a(u.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(r,n)}a((u=u.apply(o,i||[])).next())});var o,i,c,u}).append("circle").attr("display",function(t){return t.hasChildren?"inherit":"none"}).attr("cx",0).attr("cy",0).attr("r",7).attr("cursor","pointer").attr("fill","#ffffff").attr("stroke",x).attr("stroke-width",1).on("mouseenter",function(){h.select(this).transition().duration(c).attr("stroke",j)}).on("mouseout",function(){h.select(this).transition().duration(c).attr("stroke",x)})}var x=function(t,e,r){var n=r.nodeWidth,a=r.nodeHeight,o=r.nodeSpacing,i=h.layout.tree().nodeSize([n+o,a+o]),c=h.select(t),u=c.append("defs");u.append("rect").attr("id","clip-avatar-rect").attr("x",15).attr("y",15).attr("width",35).attr("height",35).attr("rx",17.5),u.append("clipPath").attr("id","clip-avatar").append("use").attr("xlink:href","#clip-avatar-rect");var s=c.append("g"),l=h.behavior.zoom().scaleExtent([.4,2]).duration(50).on("zoom",function(){s.attr("transform","translate("+h.event.translate+") scale("+h.event.scale.toFixed(1)+")")});c.call(l),l.translate([t.clientWidth/2-n/2,a]),s.attr("transform","translate("+(t.clientWidth/2-n/2)+", "+a+")"),e.x0=0,e.y0=0,v(s,{tree:i,treeData:e},r)};r(3);function g(t){return function(e){var r=e.className,o=e.style,c=e.height,s=void 0===c?400:c,l=e.data,f=e.getChildren,d=Object(n.useRef)();return Object(n.useEffect)(function(){x(d.current,l,Object.assign({},t,{getTree:f}))},[]),a.a.createElement("div",{className:i()(u,r),style:o},a.a.createElement("svg",{xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",ref:d,width:"100%",height:s}))}}r.d(e,"buildReactOrgChart",function(){return g});var b=g(c);e.default=b}])});
//# sourceMappingURL=react-org-chart.min.js.map